{"ast":null,"code":"import _regeneratorRuntime from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var BASE_URL=\"http://localhost:3001\";var delay=function delay(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});};var randomNumber=function randomNumber(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return Math.floor(Math.random()*(max-min+1))+min;};var simulateNetworkLatency=function simulateNetworkLatency(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:30;var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1500;return delay(randomNumber(min,max));};function callApi(_x){return _callApi.apply(this,arguments);}function _callApi(){_callApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(endpoint){var options,url,response,data,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options=_args.length>1&&_args[1]!==undefined?_args[1]:{};_context.next=3;return simulateNetworkLatency();case 3:options.headers={\"Content-Type\":\"application/json\",Accept:\"application/json\"};url=BASE_URL+endpoint;_context.next=7;return fetch(url,options);case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;return _context.abrupt(\"return\",data);case 12:case\"end\":return _context.stop();}}},_callee);}));return _callApi.apply(this,arguments);}var api={badges:{list:function list(){return callApi(\"/badges\");},create:function create(badge){// throw Error(\"500: Server Error\");\nreturn callApi(\"/badges\",{method:\"POST\",body:JSON.stringify(badge)});},read:function read(badgeId){return callApi(\"/badges/\".concat(badgeId));},update:function update(badgeId,updates){return callApi(\"/badges/\".concat(badgeId),{method:\"PUT\",body:JSON.stringify(updates)});},// Lo hubiera llamado `delete`, pero `delete` es un keyword en JavaScript asi que no es buena idea :P\nremove:function remove(badgeId){return callApi(\"/badges/\".concat(badgeId),{method:\"DELETE\"});}}};export default api;","map":{"version":3,"sources":["/home/juan/Desktop/program/cursos/react/src/api.js"],"names":["BASE_URL","delay","ms","Promise","resolve","setTimeout","randomNumber","min","max","Math","floor","random","simulateNetworkLatency","callApi","endpoint","options","headers","Accept","url","fetch","response","json","data","api","badges","list","create","badge","method","body","JSON","stringify","read","badgeId","update","updates","remove"],"mappings":"yTAAA,GAAMA,CAAAA,QAAQ,CAAG,uBAAjB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,EAAD,QAAQ,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,QAAaC,CAAAA,UAAU,CAACD,OAAD,CAAUF,EAAV,CAAvB,EAAZ,CAAR,EAAd,CACA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAACC,CAAAA,GAAD,2DAAO,CAAP,IAAUC,CAAAA,GAAV,2DAAgB,CAAhB,OACpBC,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiBH,GAAG,CAAGD,GAAN,CAAY,CAA7B,CAAX,EAA8CA,GAD1B,EAArB,CAEA,GAAMK,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,MAACL,CAAAA,GAAD,2DAAO,EAAP,IAAWC,CAAAA,GAAX,2DAAiB,IAAjB,OAC9BP,CAAAA,KAAK,CAACK,YAAY,CAACC,GAAD,CAAMC,GAAN,CAAb,CADyB,EAA/B,C,QAGeK,CAAAA,O,iIAAf,iBAAuBC,QAAvB,gKAAiCC,OAAjC,+CAA2C,EAA3C,uBACOH,CAAAA,sBAAsB,EAD7B,QAGCG,OAAO,CAACC,OAAR,CAAkB,CACjB,eAAgB,kBADC,CAEjBC,MAAM,CAAE,kBAFS,CAAlB,CAKMC,GARP,CAQalB,QAAQ,CAAGc,QARxB,uBASwBK,CAAAA,KAAK,CAACD,GAAD,CAAMH,OAAN,CAT7B,QASOK,QATP,sCAUoBA,CAAAA,QAAQ,CAACC,IAAT,EAVpB,SAUOC,IAVP,+CAYQA,IAZR,yD,0CAeA,GAAMC,CAAAA,GAAG,CAAG,CACXC,MAAM,CAAE,CACPC,IADO,gBACA,CACN,MAAOZ,CAAAA,OAAO,CAAC,SAAD,CAAd,CACA,CAHM,CAIPa,MAJO,iBAIAC,KAJA,CAIO,CACb;AACA,MAAOd,CAAAA,OAAO,WAAY,CACzBe,MAAM,CAAE,MADiB,CAEzBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAFmB,CAAZ,CAAd,CAIA,CAVM,CAWPK,IAXO,eAWFC,OAXE,CAWO,CACb,MAAOpB,CAAAA,OAAO,mBAAYoB,OAAZ,EAAd,CACA,CAbM,CAcPC,MAdO,iBAcAD,OAdA,CAcSE,OAdT,CAckB,CACxB,MAAOtB,CAAAA,OAAO,mBAAYoB,OAAZ,EAAuB,CACpCL,MAAM,CAAE,KAD4B,CAEpCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeI,OAAf,CAF8B,CAAvB,CAAd,CAIA,CAnBM,CAoBP;AACAC,MArBO,iBAqBAH,OArBA,CAqBS,CACf,MAAOpB,CAAAA,OAAO,mBAAYoB,OAAZ,EAAuB,CACpCL,MAAM,CAAE,QAD4B,CAAvB,CAAd,CAGA,CAzBM,CADG,CAAZ,CA8BA,cAAeL,CAAAA,GAAf","sourcesContent":["const BASE_URL = \"http://localhost:3001\";\n\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nconst randomNumber = (min = 0, max = 1) =>\n\tMath.floor(Math.random() * (max - min + 1)) + min;\nconst simulateNetworkLatency = (min = 30, max = 1500) =>\n\tdelay(randomNumber(min, max));\n\nasync function callApi(endpoint, options = {}) {\n\tawait simulateNetworkLatency();\n\n\toptions.headers = {\n\t\t\"Content-Type\": \"application/json\",\n\t\tAccept: \"application/json\",\n\t};\n\n\tconst url = BASE_URL + endpoint;\n\tconst response = await fetch(url, options);\n\tconst data = await response.json();\n\n\treturn data;\n}\n\nconst api = {\n\tbadges: {\n\t\tlist() {\n\t\t\treturn callApi(\"/badges\");\n\t\t},\n\t\tcreate(badge) {\n\t\t\t// throw Error(\"500: Server Error\");\n\t\t\treturn callApi(`/badges`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(badge),\n\t\t\t});\n\t\t},\n\t\tread(badgeId) {\n\t\t\treturn callApi(`/badges/${badgeId}`);\n\t\t},\n\t\tupdate(badgeId, updates) {\n\t\t\treturn callApi(`/badges/${badgeId}`, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\tbody: JSON.stringify(updates),\n\t\t\t});\n\t\t},\n\t\t// Lo hubiera llamado `delete`, pero `delete` es un keyword en JavaScript asi que no es buena idea :P\n\t\tremove(badgeId) {\n\t\t\treturn callApi(`/badges/${badgeId}`, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t});\n\t\t},\n\t},\n};\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}