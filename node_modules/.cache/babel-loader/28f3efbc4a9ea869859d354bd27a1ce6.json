{"ast":null,"code":"import _regeneratorRuntime from\"/home/juan/Desktop/program/cursos/HECHO/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juan/Desktop/program/cursos/HECHO/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/juan/Desktop/program/cursos/HECHO/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/juan/Desktop/program/cursos/HECHO/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/juan/Desktop/program/cursos/HECHO/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/juan/Desktop/program/cursos/HECHO/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import BadgeDetails from\"./BadgeDetails.js\";import PageLoading from\"../components/PageLoading.js\";import PageError from\"../components/PageError.js\";import api from\"../api.js\";import{jsx as _jsx}from\"react/jsx-runtime\";var BadgeDetailsContainer=/*#__PURE__*/function(_React$Component){_inherits(BadgeDetailsContainer,_React$Component);var _super=_createSuper(BadgeDetailsContainer);function BadgeDetailsContainer(){var _this;_classCallCheck(this,BadgeDetailsContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,error:null,data:undefined,modalIsOpen:false};_this.fetchData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true,error:null});_context.prev=1;_context.next=4;return api.badges.read(_this.props.match.params.badgeId);case 4:data=_context.sent;_this.setState({loading:false,data:data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);_this.setState({loading:false,error:_context.t0});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));_this.handleOpenModal=function(e){_this.setState({modalIsOpen:true});};_this.handleCloseModal=function(e){_this.setState({modalIsOpen:false});};_this.handleDeleteBadge=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({loading:true,error:null});_context2.prev=1;_context2.next=4;return api.badges.remove(_this.props.match.params.badgeId);case 4:_this.setState({loading:false});_this.props.history.push(\"/badges\");_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);_this.setState({loading:false,error:_context2.t0});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(BadgeDetailsContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/_jsx(PageLoading,{});}if(this.state.error){return/*#__PURE__*/_jsx(PageError,{error:this.state.error});}// const badge = this.state.data;\nreturn/*#__PURE__*/_jsx(BadgeDetails,{onCloseModal:this.handleCloseModal,onOpenModal:this.handleOpenModal,modalIsOpen:this.state.modalIsOpen,onDeleteBadge:this.handleDeleteBadge,badge:this.state.data});}}]);return BadgeDetailsContainer;}(React.Component);export default BadgeDetailsContainer;","map":{"version":3,"sources":["/home/juan/Desktop/program/cursos/HECHO/react/src/pages/BadgeDetailsContainer.js"],"names":["React","BadgeDetails","PageLoading","PageError","api","BadgeDetailsContainer","state","loading","error","data","undefined","modalIsOpen","fetchData","setState","badges","read","props","match","params","badgeId","handleOpenModal","e","handleCloseModal","handleDeleteBadge","remove","history","push","Component"],"mappings":"q8BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,C,8CAEMC,CAAAA,qB,mYACLC,K,CAAQ,CACPC,OAAO,CAAE,IADF,CAEPC,KAAK,CAAE,IAFA,CAGPC,IAAI,CAAEC,SAHC,CAIPC,WAAW,CAAE,KAJN,C,OAWRC,S,sEAAY,4IACX,MAAKC,QAAL,CAAc,CAAEN,OAAO,CAAE,IAAX,CAAiBC,KAAK,CAAE,IAAxB,CAAd,EADW,sCAISJ,CAAAA,GAAG,CAACU,MAAJ,CAAWC,IAAX,CAAgB,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxC,CAJT,QAIJV,IAJI,eAKV,MAAKI,QAAL,CAAc,CAAEN,OAAO,CAAE,KAAX,CAAkBE,IAAI,CAAEA,IAAxB,CAAd,EALU,+EAOV,MAAKI,QAAL,CAAc,CAAEN,OAAO,CAAE,KAAX,CAAkBC,KAAK,YAAvB,CAAd,EAPU,oE,SAWZY,e,CAAkB,SAACC,CAAD,CAAO,CACxB,MAAKR,QAAL,CAAc,CAAEF,WAAW,CAAE,IAAf,CAAd,EACA,C,OAEDW,gB,CAAmB,SAACD,CAAD,CAAO,CACzB,MAAKR,QAAL,CAAc,CAAEF,WAAW,CAAE,KAAf,CAAd,EACA,C,OAEDY,iB,2FAAoB,kBAAOF,CAAP,sHACnB,MAAKR,QAAL,CAAc,CAAEN,OAAO,CAAE,IAAX,CAAiBC,KAAK,CAAE,IAAxB,CAAd,EADmB,wCAIZJ,CAAAA,GAAG,CAACU,MAAJ,CAAWU,MAAX,CAAkB,MAAKR,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAA1C,CAJY,QAKlB,MAAKN,QAAL,CAAc,CAAEN,OAAO,CAAE,KAAX,CAAd,EAEA,MAAKS,KAAL,CAAWS,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,EAPkB,mFASlB,MAAKb,QAAL,CAAc,CAAEN,OAAO,CAAE,KAAX,CAAkBC,KAAK,aAAvB,CAAd,EATkB,sE,iJAvBpB,4BAAoB,CACnB,KAAKI,SAAL,GACA,C,sBAkCD,iBAAS,CACR,GAAI,KAAKN,KAAL,CAAWC,OAAf,CAAwB,CACvB,mBAAO,KAAC,WAAD,IAAP,CACA,CAED,GAAI,KAAKD,KAAL,CAAWE,KAAf,CAAsB,CACrB,mBAAO,KAAC,SAAD,EAAW,KAAK,CAAE,KAAKF,KAAL,CAAWE,KAA7B,EAAP,CACA,CAED;AAEA,mBACC,KAAC,YAAD,EACC,YAAY,CAAE,KAAKc,gBADpB,CAEC,WAAW,CAAE,KAAKF,eAFnB,CAGC,WAAW,CAAE,KAAKd,KAAL,CAAWK,WAHzB,CAIC,aAAa,CAAE,KAAKY,iBAJrB,CAKC,KAAK,CAAE,KAAKjB,KAAL,CAAWG,IALnB,EADD,CASA,C,mCAhEkCT,KAAK,CAAC2B,S,EAmE1C,cAAetB,CAAAA,qBAAf","sourcesContent":["import React from \"react\";\n\nimport BadgeDetails from \"./BadgeDetails.js\";\nimport PageLoading from \"../components/PageLoading.js\";\nimport PageError from \"../components/PageError.js\";\nimport api from \"../api.js\";\n\nclass BadgeDetailsContainer extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\terror: null,\n\t\tdata: undefined,\n\t\tmodalIsOpen: false,\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.fetchData();\n\t}\n\n\tfetchData = async () => {\n\t\tthis.setState({ loading: true, error: null });\n\n\t\ttry {\n\t\t\tconst data = await api.badges.read(this.props.match.params.badgeId);\n\t\t\tthis.setState({ loading: false, data: data });\n\t\t} catch (error) {\n\t\t\tthis.setState({ loading: false, error: error });\n\t\t}\n\t};\n\n\thandleOpenModal = (e) => {\n\t\tthis.setState({ modalIsOpen: true });\n\t};\n\n\thandleCloseModal = (e) => {\n\t\tthis.setState({ modalIsOpen: false });\n\t};\n\n\thandleDeleteBadge = async (e) => {\n\t\tthis.setState({ loading: true, error: null });\n\n\t\ttry {\n\t\t\tawait api.badges.remove(this.props.match.params.badgeId);\n\t\t\tthis.setState({ loading: false });\n\n\t\t\tthis.props.history.push(\"/badges\");\n\t\t} catch (error) {\n\t\t\tthis.setState({ loading: false, error: error });\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.state.loading) {\n\t\t\treturn <PageLoading />;\n\t\t}\n\n\t\tif (this.state.error) {\n\t\t\treturn <PageError error={this.state.error} />;\n\t\t}\n\n\t\t// const badge = this.state.data;\n\n\t\treturn (\n\t\t\t<BadgeDetails\n\t\t\t\tonCloseModal={this.handleCloseModal}\n\t\t\t\tonOpenModal={this.handleOpenModal}\n\t\t\t\tmodalIsOpen={this.state.modalIsOpen}\n\t\t\t\tonDeleteBadge={this.handleDeleteBadge}\n\t\t\t\tbadge={this.state.data}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default BadgeDetailsContainer;\n"]},"metadata":{},"sourceType":"module"}