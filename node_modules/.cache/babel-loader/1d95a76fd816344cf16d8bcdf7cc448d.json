{"ast":null,"code":"import _regeneratorRuntime from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./styles/BadgeNew.css\";import header from\"../images/platziconf-logo.svg\";import Badge from\"../components/Badge.js\";import BadgeForm from\"../components/BadgeForm.js\";import PageLoading from\"../components/PageLoading.js\";import api from\"../api.js\";import md5 from\"md5\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BadgeNew=/*#__PURE__*/function(_React$Component){_inherits(BadgeNew,_React$Component);var _super=_createSuper(BadgeNew);function BadgeNew(){var _this;_classCallCheck(this,BadgeNew);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:false,error:null,form:{firstName:\"\",lastName:\"\",email:\"\",jobTitle:\"\",twitter:\"\"}};_this.handleChange=function(e){_this.setState({form:_objectSpread(_objectSpread({},_this.state.form),{},_defineProperty({},e.target.name,e.target.value))});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this.state.form.avatarUrl=\"https://www.gravatar.com/avatar/\".concat(md5(_this.state.form.email),\"?d=identicon\");_this.setState({loading:true,error:null});_context.prev=3;_context.next=6;return api.badges.create(_this.state.form);case 6:_this.setState({loading:false});_this.props.history.push(\"/badges\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);_this.setState({loading:false,error:_context.t0});case 13:case\"end\":return _context.stop();}}},_callee,null,[[3,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(BadgeNew,[{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/_jsx(PageLoading,{});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"BadgeNew__hero\",children:/*#__PURE__*/_jsx(\"img\",{className:\"BadgeNew__hero-image img-fluid\",src:header,alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(Badge,{firstName:this.state.form.firstName||\"FIRST_NAME\",lastName:this.state.form.lastName||\"LAST_NAME\",twitter:this.state.form.twitter||\"TWITTER\",jobTitle:this.state.form.jobTitle||\"JOB_TITLE\",email:this.state.form.email||\"EMAIL\",avatarUrl:\"https://www.gravatar.com/avatar/21594ed15d68ace3965642162f8d2e84?d=identicon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"New Attendant\"}),/*#__PURE__*/_jsx(BadgeForm,{onChange:this.handleChange,onSubmit:this.handleSubmit,formValues:this.state.form,error:this.state.error})]})]})})]});}}]);return BadgeNew;}(React.Component);export default BadgeNew;","map":{"version":3,"sources":["/home/juan/Desktop/program/cursos/react/src/pages/BadgeNew.js"],"names":["React","Badge","BadgeForm","PageLoading","api","md5","BadgeNew","state","loading","error","form","firstName","lastName","email","jobTitle","twitter","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","avatarUrl","badges","create","props","history","push","header","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport \"./styles/BadgeNew.css\";\nimport header from \"../images/platziconf-logo.svg\";\nimport Badge from \"../components/Badge.js\";\nimport BadgeForm from \"../components/BadgeForm.js\";\nimport PageLoading from \"../components/PageLoading.js\";\nimport api from \"../api.js\";\nimport md5 from \"md5\";\n\nclass BadgeNew extends React.Component {\n\tstate = {\n\t\tloading: false,\n\t\terror: null,\n\t\tform: {\n\t\t\tfirstName: \"\",\n\t\t\tlastName: \"\",\n\t\t\temail: \"\",\n\t\t\tjobTitle: \"\",\n\t\t\ttwitter: \"\",\n\t\t},\n\t};\n\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\tform: {\n\t\t\t\t...this.state.form,\n\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t},\n\t\t});\n\t};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\tthis.state.form.avatarUrl = `https://www.gravatar.com/avatar/${md5(\n\t\t\tthis.state.form.email\n\t\t)}?d=identicon`;\n\n\t\tthis.setState({ loading: true, error: null });\n\n\t\ttry {\n\t\t\tawait api.badges.create(this.state.form);\n\t\t\tthis.setState({ loading: false });\n\n\t\t\tthis.props.history.push(\"/badges\");\n\t\t} catch (error) {\n\t\t\tthis.setState({ loading: false, error: error });\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.state.loading) {\n\t\t\treturn <PageLoading />;\n\t\t}\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"BadgeNew__hero\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"BadgeNew__hero-image img-fluid\"\n\t\t\t\t\t\tsrc={header}\n\t\t\t\t\t\talt=\"Logo\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tfirstName={this.state.form.firstName || \"FIRST_NAME\"}\n\t\t\t\t\t\t\t\tlastName={this.state.form.lastName || \"LAST_NAME\"}\n\t\t\t\t\t\t\t\ttwitter={this.state.form.twitter || \"TWITTER\"}\n\t\t\t\t\t\t\t\tjobTitle={this.state.form.jobTitle || \"JOB_TITLE\"}\n\t\t\t\t\t\t\t\temail={this.state.form.email || \"EMAIL\"}\n\t\t\t\t\t\t\t\tavatarUrl=\"https://www.gravatar.com/avatar/21594ed15d68ace3965642162f8d2e84?d=identicon\"\n\t\t\t\t\t\t\t></Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t\t<h1>New Attendant</h1>\n\t\t\t\t\t\t\t<BadgeForm\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t\t\t\tformValues={this.state.form}\n\t\t\t\t\t\t\t\terror={this.state.error}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default BadgeNew;\n"]},"metadata":{},"sourceType":"module"}