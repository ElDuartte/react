{"ast":null,"code":"import _defineProperty from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/juan/Desktop/program/cursos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./styles/BadgeEdit.css\";import header from\"../images/platziconf-logo.svg\";import Badge from\"../components/Badge.js\";import BadgeForm from\"../components/BadgeForm.js\";import PageLoading from\"../components/PageLoading.js\";import api from\"../api.js\";import md5 from\"md5\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BadgeEdit=/*#__PURE__*/function(_React$Component){_inherits(BadgeEdit,_React$Component);var _super=_createSuper(BadgeEdit);function BadgeEdit(){var _this;_classCallCheck(this,BadgeEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,error:null,form:{firstName:\"\",lastName:\"\",email:\"\",jobTitle:\"\",twitter:\"\"}};_this.fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true,error:null});_context.prev=1;_context.next=4;return api.badges.read(_this.props.match.params.badgeId);case 4:data=_context.sent;_this.setState({loading:false,form:data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);_this.setState({loading:false,error:_context.t0});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(e){_this.setState({form:_objectSpread(_objectSpread({},_this.state.form),{},_defineProperty({},e.target.name,e.target.value))});};_this.handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_this.state.form.avatarUrl=\"https://www.gravatar.com/avatar/\".concat(md5(_this.state.form.email),\"?d=identicon\");_this.setState({loading:true,error:null});_context2.prev=3;_context2.next=6;return api.badges.update(_this.props.match.params.badgeId,_this.state.form);case 6:_this.setState({loading:false});_this.props.history.push(\"/badges\");_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](3);_this.setState({loading:false,error:_context2.t0});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[3,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this;}_createClass(BadgeEdit,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/_jsx(PageLoading,{});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"BadgeEdit__hero\",children:/*#__PURE__*/_jsx(\"img\",{className:\"BadgeEdit__hero-image img-fluid\",src:header,alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(Badge,{firstName:this.state.form.firstName||\"FIRST_NAME\",lastName:this.state.form.lastName||\"LAST_NAME\",twitter:this.state.form.twitter||\"TWITTER\",jobTitle:this.state.form.jobTitle||\"JOB_TITLE\",email:this.state.form.email||\"EMAIL\",avatarUrl:\"https://www.gravatar.com/avatar/21594ed15d68ace3965642162f8d2e84?d=identicon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Attendant\"}),/*#__PURE__*/_jsx(BadgeForm,{onChange:this.handleChange,onSubmit:this.handleSubmit,formValues:this.state.form,error:this.state.error})]})]})})]});}}]);return BadgeEdit;}(React.Component);export default BadgeEdit;","map":{"version":3,"sources":["/home/juan/Desktop/program/cursos/react/src/pages/BadgeEdit.js"],"names":["React","Badge","BadgeForm","PageLoading","api","md5","BadgeEdit","state","loading","error","form","firstName","lastName","email","jobTitle","twitter","fetchData","e","setState","badges","read","props","match","params","badgeId","data","handleChange","target","name","value","handleSubmit","preventDefault","avatarUrl","update","history","push","header","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport \"./styles/BadgeEdit.css\";\nimport header from \"../images/platziconf-logo.svg\";\nimport Badge from \"../components/Badge.js\";\nimport BadgeForm from \"../components/BadgeForm.js\";\nimport PageLoading from \"../components/PageLoading.js\";\nimport api from \"../api.js\";\nimport md5 from \"md5\";\n\nclass BadgeEdit extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\terror: null,\n\t\tform: {\n\t\t\tfirstName: \"\",\n\t\t\tlastName: \"\",\n\t\t\temail: \"\",\n\t\t\tjobTitle: \"\",\n\t\t\ttwitter: \"\",\n\t\t},\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.fetchData();\n\t}\n\n\tfetchData = async (e) => {\n\t\tthis.setState({ loading: true, error: null });\n\n\t\ttry {\n\t\t\tconst data = await api.badges.read(this.props.match.params.badgeId);\n\n\t\t\tthis.setState({ loading: false, form: data });\n\t\t} catch (error) {\n\t\t\tthis.setState({ loading: false, error: error });\n\t\t}\n\t};\n\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\tform: {\n\t\t\t\t...this.state.form,\n\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t},\n\t\t});\n\t};\n\n\thandleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\tthis.state.form.avatarUrl = `https://www.gravatar.com/avatar/${md5(\n\t\t\tthis.state.form.email\n\t\t)}?d=identicon`;\n\n\t\tthis.setState({ loading: true, error: null });\n\n\t\ttry {\n\t\t\tawait api.badges.update(this.props.match.params.badgeId, this.state.form);\n\t\t\tthis.setState({ loading: false });\n\n\t\t\tthis.props.history.push(\"/badges\");\n\t\t} catch (error) {\n\t\t\tthis.setState({ loading: false, error: error });\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.state.loading) {\n\t\t\treturn <PageLoading />;\n\t\t}\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"BadgeEdit__hero\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"BadgeEdit__hero-image img-fluid\"\n\t\t\t\t\t\tsrc={header}\n\t\t\t\t\t\talt=\"Logo\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tfirstName={this.state.form.firstName || \"FIRST_NAME\"}\n\t\t\t\t\t\t\t\tlastName={this.state.form.lastName || \"LAST_NAME\"}\n\t\t\t\t\t\t\t\ttwitter={this.state.form.twitter || \"TWITTER\"}\n\t\t\t\t\t\t\t\tjobTitle={this.state.form.jobTitle || \"JOB_TITLE\"}\n\t\t\t\t\t\t\t\temail={this.state.form.email || \"EMAIL\"}\n\t\t\t\t\t\t\t\tavatarUrl=\"https://www.gravatar.com/avatar/21594ed15d68ace3965642162f8d2e84?d=identicon\"\n\t\t\t\t\t\t\t></Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t\t<h1>Edit Attendant</h1>\n\t\t\t\t\t\t\t<BadgeForm\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t\t\t\tformValues={this.state.form}\n\t\t\t\t\t\t\t\terror={this.state.error}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default BadgeEdit;\n"]},"metadata":{},"sourceType":"module"}